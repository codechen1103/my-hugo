<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>如何在vitepress里实现md自定义语法解析映射？ | 我的Hugo网站</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="![Pasted image 20251228172816.png](/images/Pasted image 20251228172816.png)
如何自定义解析md语法？
在.vitepress\config\index.mts里可以看到markdown的相关配置
   markdown: {
      config: (md) => mdPlugin(md),
    },
进入.vitepress\config\plugins.ts可以看到myPlugin的定义，其实就是使用到了markdown-it-container这个库去匹配和映射成我们想要映射的Demo.vue组件
export const mdPlugin = (md: MarkdownRenderer) => {
  //...省略其他代码
  md.use(mdContainer, 'demo', createDemoContainer(md))
}
再进入createDemoContainer，在.vitepress\plugins\demo.ts里可以看到createDemoContainer方法的详情，其实就是解析传入md进行匹配带:::demo开头的字符，匹配到就进行Demo组件的映射，注意这里使用到了encodeURIComponent ，主要是为了防止md.render()直接作为属性时在Demo组件进行html解析时可能会导致的错误，使用encodeURIComponent就让内容解析成%xxx的格式，即排除掉&#34;<>等这种会导致标签/属性解析问题的符号
function createDemoContainer(md: MarkdownRenderer): ContainerOpts {

  return {

    validate(params) {

      return !!params.trim().match(/^demo\s*(.*)$/)

    },
    render(tokens, idx) {

      const m = tokens[idx].info.trim().match(/^demo\s*(.*)$/)

      if (tokens[idx].nesting === 1 /* means the tag is opening */) {

        const description = m && m.length > 1 ? m[1] : ''

        const sourceFileToken = tokens[idx + 2]

        let source = ''

        const sourceFile = sourceFileToken.children?.[0].content ?? ''

        if (sourceFileToken.type === 'inline') {

          source = fs.readFileSync(

            path.resolve(docRoot, 'examples', `${sourceFile}.vue`),

            'utf-8'

          )
        }

        if (!source) throw new Error(`Incorrect source file: ${sourceFile}`)

  

        return `<Demo source=&#34;${encodeURIComponent(

          md.render(`\`\`\` vue\n${source}\`\`\``)

        )}&#34; path=&#34;${sourceFile}&#34; raw-source=&#34;${encodeURIComponent(

          source

        )}&#34; description=&#34;${encodeURIComponent(md.render(description))}&#34;>

  <template #source><ep-${sourceFile.replaceAll('/', '-')}/></template>`

      } else {

        return '</Demo>\n'

      }

    },

  }
}
那现在我们具备md的自定义解析映射了，该如何让vitepress更自动的导入我们想要映射的Demo组件呢？"><meta name=generator content="Hugo 0.154.5"><meta name=robots content="index, follow"><link rel=stylesheet href=/ananke/css/main.min.efe4d852f731d5d1fbb87718387202a97aafd768cdcdaed0662bbe6982e91824.css><link rel=canonical href=https://example.org/posts/%E5%A6%82%E4%BD%95%E5%9C%A8vitepress%E9%87%8C%E5%AE%9E%E7%8E%B0md%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%AD%E6%B3%95%E8%A7%A3%E6%9E%90%E6%98%A0%E5%B0%84/><meta property="og:url" content="https://example.org/posts/%E5%A6%82%E4%BD%95%E5%9C%A8vitepress%E9%87%8C%E5%AE%9E%E7%8E%B0md%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%AD%E6%B3%95%E8%A7%A3%E6%9E%90%E6%98%A0%E5%B0%84/"><meta property="og:site_name" content="我的Hugo网站"><meta property="og:title" content="如何在vitepress里实现md自定义语法解析映射？"><meta property="og:description" content="![Pasted image 20251228172816.png](/images/Pasted image 20251228172816.png)
如何自定义解析md语法？ 在.vitepress\config\index.mts里可以看到markdown的相关配置
markdown: { config: (md) => mdPlugin(md), }, 进入.vitepress\config\plugins.ts可以看到myPlugin的定义，其实就是使用到了markdown-it-container这个库去匹配和映射成我们想要映射的Demo.vue组件
export const mdPlugin = (md: MarkdownRenderer) => { //...省略其他代码 md.use(mdContainer, 'demo', createDemoContainer(md)) } 再进入createDemoContainer，在.vitepress\plugins\demo.ts里可以看到createDemoContainer方法的详情，其实就是解析传入md进行匹配带:::demo开头的字符，匹配到就进行Demo组件的映射，注意这里使用到了encodeURIComponent ，主要是为了防止md.render()直接作为属性时在Demo组件进行html解析时可能会导致的错误，使用encodeURIComponent就让内容解析成%xxx的格式，即排除掉&#34;<>等这种会导致标签/属性解析问题的符号
function createDemoContainer(md: MarkdownRenderer): ContainerOpts { return { validate(params) { return !!params.trim().match(/^demo\s*(.*)$/) }, render(tokens, idx) { const m = tokens[idx].info.trim().match(/^demo\s*(.*)$/) if (tokens[idx].nesting === 1 /* means the tag is opening */) { const description = m && m.length > 1 ? m[1] : '' const sourceFileToken = tokens[idx + 2] let source = '' const sourceFile = sourceFileToken.children?.[0].content ?? '' if (sourceFileToken.type === 'inline') { source = fs.readFileSync( path.resolve(docRoot, 'examples', `${sourceFile}.vue`), 'utf-8' ) } if (!source) throw new Error(`Incorrect source file: ${sourceFile}`) return `<Demo source=&#34;${encodeURIComponent( md.render(`\`\`\` vue\n${source}\`\`\``) )}&#34; path=&#34;${sourceFile}&#34; raw-source=&#34;${encodeURIComponent( source )}&#34; description=&#34;${encodeURIComponent(md.render(description))}&#34;> <template #source><ep-${sourceFile.replaceAll('/', '-')}/></template>` } else { return '</Demo>\n' } }, } } 那现在我们具备md的自定义解析映射了，该如何让vitepress更自动的导入我们想要映射的Demo组件呢？"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-01-13T18:21:58+08:00"><meta property="article:modified_time" content="2026-01-13T18:21:58+08:00"><meta itemprop=name content="如何在vitepress里实现md自定义语法解析映射？"><meta itemprop=description content="![Pasted image 20251228172816.png](/images/Pasted image 20251228172816.png)
如何自定义解析md语法？ 在.vitepress\config\index.mts里可以看到markdown的相关配置
markdown: { config: (md) => mdPlugin(md), }, 进入.vitepress\config\plugins.ts可以看到myPlugin的定义，其实就是使用到了markdown-it-container这个库去匹配和映射成我们想要映射的Demo.vue组件
export const mdPlugin = (md: MarkdownRenderer) => { //...省略其他代码 md.use(mdContainer, 'demo', createDemoContainer(md)) } 再进入createDemoContainer，在.vitepress\plugins\demo.ts里可以看到createDemoContainer方法的详情，其实就是解析传入md进行匹配带:::demo开头的字符，匹配到就进行Demo组件的映射，注意这里使用到了encodeURIComponent ，主要是为了防止md.render()直接作为属性时在Demo组件进行html解析时可能会导致的错误，使用encodeURIComponent就让内容解析成%xxx的格式，即排除掉&#34;<>等这种会导致标签/属性解析问题的符号
function createDemoContainer(md: MarkdownRenderer): ContainerOpts { return { validate(params) { return !!params.trim().match(/^demo\s*(.*)$/) }, render(tokens, idx) { const m = tokens[idx].info.trim().match(/^demo\s*(.*)$/) if (tokens[idx].nesting === 1 /* means the tag is opening */) { const description = m && m.length > 1 ? m[1] : '' const sourceFileToken = tokens[idx + 2] let source = '' const sourceFile = sourceFileToken.children?.[0].content ?? '' if (sourceFileToken.type === 'inline') { source = fs.readFileSync( path.resolve(docRoot, 'examples', `${sourceFile}.vue`), 'utf-8' ) } if (!source) throw new Error(`Incorrect source file: ${sourceFile}`) return `<Demo source=&#34;${encodeURIComponent( md.render(`\`\`\` vue\n${source}\`\`\``) )}&#34; path=&#34;${sourceFile}&#34; raw-source=&#34;${encodeURIComponent( source )}&#34; description=&#34;${encodeURIComponent(md.render(description))}&#34;> <template #source><ep-${sourceFile.replaceAll('/', '-')}/></template>` } else { return '</Demo>\n' } }, } } 那现在我们具备md的自定义解析映射了，该如何让vitepress更自动的导入我们想要映射的Demo组件呢？"><meta itemprop=datePublished content="2026-01-13T18:21:58+08:00"><meta itemprop=dateModified content="2026-01-13T18:21:58+08:00"><meta itemprop=wordCount content="205"><meta name=twitter:card content="summary"><meta name=twitter:title content="如何在vitepress里实现md自定义语法解析映射？"><meta name=twitter:description content="![Pasted image 20251228172816.png](/images/Pasted image 20251228172816.png)
如何自定义解析md语法？ 在.vitepress\config\index.mts里可以看到markdown的相关配置
markdown: { config: (md) => mdPlugin(md), }, 进入.vitepress\config\plugins.ts可以看到myPlugin的定义，其实就是使用到了markdown-it-container这个库去匹配和映射成我们想要映射的Demo.vue组件
export const mdPlugin = (md: MarkdownRenderer) => { //...省略其他代码 md.use(mdContainer, 'demo', createDemoContainer(md)) } 再进入createDemoContainer，在.vitepress\plugins\demo.ts里可以看到createDemoContainer方法的详情，其实就是解析传入md进行匹配带:::demo开头的字符，匹配到就进行Demo组件的映射，注意这里使用到了encodeURIComponent ，主要是为了防止md.render()直接作为属性时在Demo组件进行html解析时可能会导致的错误，使用encodeURIComponent就让内容解析成%xxx的格式，即排除掉&#34;<>等这种会导致标签/属性解析问题的符号
function createDemoContainer(md: MarkdownRenderer): ContainerOpts { return { validate(params) { return !!params.trim().match(/^demo\s*(.*)$/) }, render(tokens, idx) { const m = tokens[idx].info.trim().match(/^demo\s*(.*)$/) if (tokens[idx].nesting === 1 /* means the tag is opening */) { const description = m && m.length > 1 ? m[1] : '' const sourceFileToken = tokens[idx + 2] let source = '' const sourceFile = sourceFileToken.children?.[0].content ?? '' if (sourceFileToken.type === 'inline') { source = fs.readFileSync( path.resolve(docRoot, 'examples', `${sourceFile}.vue`), 'utf-8' ) } if (!source) throw new Error(`Incorrect source file: ${sourceFile}`) return `<Demo source=&#34;${encodeURIComponent( md.render(`\`\`\` vue\n${source}\`\`\``) )}&#34; path=&#34;${sourceFile}&#34; raw-source=&#34;${encodeURIComponent( source )}&#34; description=&#34;${encodeURIComponent(md.render(description))}&#34;> <template #source><ep-${sourceFile.replaceAll('/', '-')}/></template>` } else { return '</Demo>\n' } }, } } 那现在我们具备md的自定义解析映射了，该如何让vitepress更自动的导入我们想要映射的Demo组件呢？"></head><body class="ma0 avenir bg-near-white production"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l center items-center justify-between"><a href=/ class="f3 fw2 hover-white white-90 dib no-underline">我的Hugo网站</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white white-90 no-underline" href=/ title="首页 page">首页</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white white-90 no-underline" href=/posts/ title="文章 page">文章</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white white-90 no-underline" href=/tags/ title="标签 page">标签</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white white-90 no-underline" href=/categories/ title="分类 page">分类</a></li></ul><div class=ananke-socials></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l mw7 center ph3 flex-wrap justify-between"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked ttu">Posts</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">如何在vitepress里实现md自定义语法解析映射？</h1><time class="f6 mv4 dib tracked" datetime=2026-01-13T18:21:58+08:00>January 13, 2026</time>
<span class="f6 mv4 dib tracked">- One minute read </span><span class="f6 mv4 dib tracked">- 205 words</span></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-100-l"><p>![Pasted image 20251228172816.png](/images/Pasted image 20251228172816.png)</p><h2 id=如何自定义解析md语法>如何自定义解析md语法？</h2><p>在.vitepress\config\index.mts里可以看到markdown的相关配置</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span>   <span style=color:#a6e22e>markdown</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>config</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>md</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>mdPlugin</span>(<span style=color:#a6e22e>md</span>),
</span></span><span style=display:flex><span>    },
</span></span></code></pre></div><p>进入.vitepress\config\plugins.ts可以看到myPlugin的定义，其实就是使用到了markdown-it-container这个库去匹配和映射成我们想要映射的Demo.vue组件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mdPlugin</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>md</span>: <span style=color:#66d9ef>MarkdownRenderer</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>//...省略其他代码
</span></span></span><span style=display:flex><span>  <span style=color:#a6e22e>md</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>mdContainer</span>, <span style=color:#e6db74>&#39;demo&#39;</span>, <span style=color:#a6e22e>createDemoContainer</span>(<span style=color:#a6e22e>md</span>))
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>再进入createDemoContainer，在.vitepress\plugins\demo.ts里可以看到createDemoContainer方法的详情，其实就是解析传入md进行匹配带:::demo开头的字符，匹配到就进行Demo组件的映射，注意这里使用到了encodeURIComponent ，主要是为了防止md.render()直接作为属性时在Demo组件进行html解析时可能会导致的错误，使用encodeURIComponent就让内容解析成%xxx的格式，即排除掉"&lt;>等这种会导致标签/属性解析问题的符号</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>createDemoContainer</span>(<span style=color:#a6e22e>md</span>: <span style=color:#66d9ef>MarkdownRenderer</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>ContainerOpts</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>validate</span>(<span style=color:#a6e22e>params</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#f92672>!!</span><span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>trim</span>().<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/^demo\s*(.*)$/</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>render</span>(<span style=color:#a6e22e>tokens</span>, <span style=color:#a6e22e>idx</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>m</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tokens</span>[<span style=color:#a6e22e>idx</span>].<span style=color:#a6e22e>info</span>.<span style=color:#a6e22e>trim</span>().<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/^demo\s*(.*)$/</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>tokens</span>[<span style=color:#a6e22e>idx</span>].<span style=color:#a6e22e>nesting</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>1</span> <span style=color:#75715e>/* means the tag is opening */</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>description</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>m</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>m</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>m</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sourceFileToken</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tokens</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>source</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sourceFile</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sourceFileToken</span>.<span style=color:#a6e22e>children</span><span style=color:#f92672>?</span>.[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>content</span> <span style=color:#f92672>??</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>sourceFileToken</span>.<span style=color:#66d9ef>type</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;inline&#39;</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>source</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>readFileSync</span>(
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>resolve</span>(<span style=color:#a6e22e>docRoot</span>, <span style=color:#e6db74>&#39;examples&#39;</span>, <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>sourceFile</span><span style=color:#e6db74>}</span><span style=color:#e6db74>.vue`</span>),
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;utf-8&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          )
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>source</span>) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>`Incorrect source file: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>sourceFile</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>`&lt;Demo source=&#34;</span><span style=color:#e6db74>${</span>encodeURIComponent(
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>md</span>.<span style=color:#a6e22e>render</span>(<span style=color:#e6db74>`\`\`\` vue</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#e6db74>n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>source</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\`\`\``</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        )<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34; path=&#34;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>sourceFile</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#34; raw-source=&#34;</span><span style=color:#e6db74>${</span>encodeURIComponent(
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>source</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        )<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34; description=&#34;</span><span style=color:#e6db74>${</span>encodeURIComponent(<span style=color:#a6e22e>md</span>.<span style=color:#a6e22e>render</span>(<span style=color:#a6e22e>description</span>))<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  &lt;template #source&gt;&lt;ep-</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>sourceFile</span>.<span style=color:#a6e22e>replaceAll</span>(<span style=color:#e6db74>&#39;/&#39;</span>, <span style=color:#e6db74>&#39;-&#39;</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>/&gt;&lt;/template&gt;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;&lt;/Demo&gt;\n&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>那现在我们具备md的自定义解析映射了，该如何让vitepress更自动的导入我们想要映射的Demo组件呢？</p><h2 id=如何更自动化引入组件>如何更自动化引入组件？</h2><p>在.vitepress\config\index.mts可以看到关于vite插件的配置<code>vite: getViteConfig(configEnv)</code> ，进入.vitepress\config\vite.ts查看getViteConfig，可以看到element-plus里其实是将关于vitepress的自定义主题组件都定义在了.vitepress/vitepress/components里，然后配置了unplugin-vue-components插件去自动全局引入这些组件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>getViteConfig</span> <span style=color:#f92672>=</span> ({ <span style=color:#a6e22e>mode</span> }<span style=color:#f92672>:</span> { <span style=color:#a6e22e>mode</span>: <span style=color:#66d9ef>string</span> })<span style=color:#f92672>:</span> <span style=color:#a6e22e>ViteConfig</span> <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>env</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadEnv</span>(<span style=color:#a6e22e>mode</span>, <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>cwd</span>(), <span style=color:#e6db74>&#39;&#39;</span>)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...其他配置
</span></span></span><span style=display:flex><span>    <span style=color:#a6e22e>plugins</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      <span style=color:#75715e>// ...其他配置
</span></span></span><span style=display:flex><span>      <span style=color:#75715e>// https://github.com/antfu/unplugin-vue-components
</span></span></span><span style=display:flex><span>      <span style=color:#a6e22e>Components</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dirs</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;.vitepress/vitepress/components&#39;</span>],
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>allowOverrides</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// custom resolvers
</span></span></span><span style=display:flex><span>        <span style=color:#a6e22e>resolvers</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          <span style=color:#75715e>// auto import icons
</span></span></span><span style=display:flex><span>          <span style=color:#75715e>// https://github.com/antfu/unplugin-icons
</span></span></span><span style=display:flex><span>          <span style=color:#a6e22e>IconsResolver</span>(),
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// allow auto import and register components used in markdown
</span></span></span><span style=display:flex><span>        <span style=color:#a6e22e>include</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>/\.vue$/</span>, <span style=color:#e6db74>/\.vue\?vue/</span>, <span style=color:#e6db74>/\.md$/</span>],
</span></span><span style=display:flex><span>      }),
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href=https://example.org/>&copy; 我的Hugo网站 2026</a><div><div class=ananke-socials></div></div></div></footer></body></html>