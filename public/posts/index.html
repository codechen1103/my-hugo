<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>我的Hugo网站</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content><meta name=generator content="Hugo 0.154.0"><meta name=robots content="index, follow"><link rel=stylesheet href=/ananke/css/main.min.efe4d852f731d5d1fbb87718387202a97aafd768cdcdaed0662bbe6982e91824.css><link href=/posts/index.xml rel=alternate type=application/rss+xml title=我的Hugo网站><link href=/posts/index.xml rel=feed type=application/rss+xml title=我的Hugo网站><link rel=canonical href=https://example.org/posts/><meta property="og:url" content="https://example.org/posts/"><meta property="og:site_name" content="我的Hugo网站"><meta property="og:title" content="Posts"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="website"><meta itemprop=name content="Posts"><meta itemprop=datePublished content="2026-01-01T18:19:17+08:00"><meta itemprop=dateModified content="2026-01-01T18:19:17+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"></head><body class="ma0 avenir bg-near-white production"><header><div class="pb3-m pb6-l bg-black"><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l center items-center justify-between"><a href=/ class="f3 fw2 hover-white white-90 dib no-underline">我的Hugo网站</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white white-90 no-underline" href=/ title="首页 page">首页</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white white-90 no-underline" href=/posts/ title="文章 page">文章</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white white-90 no-underline" href=/tags/ title="标签 page">标签</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white white-90 no-underline" href=/categories/ title="分类 page">分类</a></li></ul><div class=ananke-socials></div></div></div></nav><div class="tc-l pv3 ph3 ph4-ns"><h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">Posts</h1></div></div></header><main class=pb7 role=main><article class="pa3 pa4-ns nested-copy-line-height"><section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy nested-links mid-gray"></section><section class="flex-ns mt5 flex-wrap justify-around"><div class="w-100 w-30-l mb4 relative bg-white"><div class="w-100 mb4 nested-copy-line-height relative bg-white"><div class="mb3 pa4 gray overflow-hidden bg-white"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/729/ class="link black dim">init test</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height"><p>test</p></div><a href=/posts/729/ class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a></div></div></div><div class="w-100 w-30-l mb4 relative bg-white"><div class="w-100 mb4 nested-copy-line-height relative bg-white"><div class="mb3 pa4 gray overflow-hidden bg-white"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/test2/ class="link black dim">test2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height"><p>这是test2</p></div><a href=/posts/test2/ class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a></div></div></div><div class="w-100 w-30-l mb4 relative bg-white"><div class="w-100 mb4 nested-copy-line-height relative bg-white"><div class="mb3 pa4 gray overflow-hidden bg-white"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/test22/ class="link black dim">test22</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height"><p>这是test222</p></div><a href=/posts/test22/ class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a></div></div></div><div class="w-100 w-30-l mb4 relative bg-white"><div class="w-100 mb4 nested-copy-line-height relative bg-white"><div class="mb3 pa4 gray overflow-hidden bg-white"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/test3/ class="link black dim">test3</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height"><p>这是test3</p></div><a href=/posts/test3/ class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a></div></div></div><div class="w-100 w-30-l mb4 relative bg-white"><div class="w-100 mb4 nested-copy-line-height relative bg-white"><div class="mb3 pa4 gray overflow-hidden bg-white"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/test33/ class="link black dim">test33</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height"><p>这是test333</p></div><a href=/posts/test33/ class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a></div></div></div><div class="w-100 w-30-l mb4 relative bg-white"><div class="w-100 mb4 nested-copy-line-height relative bg-white"><div class="mb3 pa4 gray overflow-hidden bg-white"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/test44/ class="link black dim">test44</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height"><p>这是test44</p></div><a href=/posts/test44/ class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a></div></div></div><div class="w-100 w-30-l mb4 relative bg-white"><div class="w-100 mb4 nested-copy-line-height relative bg-white"><div class="mb3 pa4 gray overflow-hidden bg-white"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/test55/ class="link black dim">test55</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height"><p>这是test55</p></div><a href=/posts/test55/ class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a></div></div></div><div class="w-100 w-30-l mb4 relative bg-white"><div class="w-100 mb4 nested-copy-line-height relative bg-white"><div class="mb3 pa4 gray overflow-hidden bg-white"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/%E5%A6%82%E4%BD%95%E5%9C%A8vitepress%E9%87%8C%E5%AE%9E%E7%8E%B0md%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%AD%E6%B3%95%E8%A7%A3%E6%9E%90%E6%98%A0%E5%B0%84/ class="link black dim">如何在vitepress里实现md自定义语法解析映射？</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height"><p>![Pasted image 20251228172816.png](/images/Pasted image 20251228172816.png)</p><h2 id=如何自定义解析md语法>如何自定义解析md语法？</h2><p>在.vitepress\config\index.mts里可以看到markdown的相关配置</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span>   <span style=color:#a6e22e>markdown</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>config</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>md</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>mdPlugin</span>(<span style=color:#a6e22e>md</span>),
</span></span><span style=display:flex><span>    },
</span></span></code></pre></div><p>进入.vitepress\config\plugins.ts可以看到myPlugin的定义，其实就是使用到了markdown-it-container这个库去匹配和映射成我们想要映射的Demo.vue组件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mdPlugin</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>md</span>: <span style=color:#66d9ef>MarkdownRenderer</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>//...省略其他代码
</span></span></span><span style=display:flex><span>  <span style=color:#a6e22e>md</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>mdContainer</span>, <span style=color:#e6db74>&#39;demo&#39;</span>, <span style=color:#a6e22e>createDemoContainer</span>(<span style=color:#a6e22e>md</span>))
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>再进入createDemoContainer，在.vitepress\plugins\demo.ts里可以看到createDemoContainer方法的详情，其实就是解析传入md进行匹配带:::demo开头的字符，匹配到就进行Demo组件的映射，注意这里使用到了encodeURIComponent ，主要是为了防止md.render()直接作为属性时在Demo组件进行html解析时可能会导致的错误，使用encodeURIComponent就让内容解析成%xxx的格式，即排除掉"&lt;>等这种会导致标签/属性解析问题的符号</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>createDemoContainer</span>(<span style=color:#a6e22e>md</span>: <span style=color:#66d9ef>MarkdownRenderer</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>ContainerOpts</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>validate</span>(<span style=color:#a6e22e>params</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#f92672>!!</span><span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>trim</span>().<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/^demo\s*(.*)$/</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>render</span>(<span style=color:#a6e22e>tokens</span>, <span style=color:#a6e22e>idx</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>m</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tokens</span>[<span style=color:#a6e22e>idx</span>].<span style=color:#a6e22e>info</span>.<span style=color:#a6e22e>trim</span>().<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/^demo\s*(.*)$/</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>tokens</span>[<span style=color:#a6e22e>idx</span>].<span style=color:#a6e22e>nesting</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>1</span> <span style=color:#75715e>/* means the tag is opening */</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>description</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>m</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>m</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>m</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sourceFileToken</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tokens</span>[<span style=color:#a6e22e>idx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>source</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sourceFile</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sourceFileToken</span>.<span style=color:#a6e22e>children</span><span style=color:#f92672>?</span>.[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>content</span> <span style=color:#f92672>??</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>sourceFileToken</span>.<span style=color:#66d9ef>type</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;inline&#39;</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>source</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>readFileSync</span>(
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>resolve</span>(<span style=color:#a6e22e>docRoot</span>, <span style=color:#e6db74>&#39;examples&#39;</span>, <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>sourceFile</span><span style=color:#e6db74>}</span><span style=color:#e6db74>.vue`</span>),
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;utf-8&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          )
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>source</span>) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>`Incorrect source file: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>sourceFile</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>`&lt;Demo source=&#34;</span><span style=color:#e6db74>${</span>encodeURIComponent(
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>md</span>.<span style=color:#a6e22e>render</span>(<span style=color:#e6db74>`\`\`\` vue</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#e6db74>n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>source</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\`\`\``</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        )<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34; path=&#34;</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>sourceFile</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#34; raw-source=&#34;</span><span style=color:#e6db74>${</span>encodeURIComponent(
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>source</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        )<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34; description=&#34;</span><span style=color:#e6db74>${</span>encodeURIComponent(<span style=color:#a6e22e>md</span>.<span style=color:#a6e22e>render</span>(<span style=color:#a6e22e>description</span>))<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  &lt;template #source&gt;&lt;ep-</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>sourceFile</span>.<span style=color:#a6e22e>replaceAll</span>(<span style=color:#e6db74>&#39;/&#39;</span>, <span style=color:#e6db74>&#39;-&#39;</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>/&gt;&lt;/template&gt;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;&lt;/Demo&gt;\n&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>那现在我们具备md的自定义解析映射了，该如何让vitepress更自动的导入我们想要映射的Demo组件呢？</p></div><a href=/posts/%E5%A6%82%E4%BD%95%E5%9C%A8vitepress%E9%87%8C%E5%AE%9E%E7%8E%B0md%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%AD%E6%B3%95%E8%A7%A3%E6%9E%90%E6%98%A0%E5%B0%84/ class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a></div></div></div><div class="w-100 w-30-l mb4 relative bg-white"><div class="w-100 mb4 nested-copy-line-height relative bg-white"><div class="mb3 pa4 gray overflow-hidden bg-white"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/%E6%88%91%E6%83%B3%E5%9C%A8vercel%E4%B8%8A%E7%9C%8B%E5%88%B0%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0/ class="link black dim">我想在vercel上看到这篇文章</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height"><p>同上！！！</p></div><a href=/posts/%E6%88%91%E6%83%B3%E5%9C%A8vercel%E4%B8%8A%E7%9C%8B%E5%88%B0%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0/ class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a></div></div></div><div class="w-100 w-30-l mb4 relative bg-white"><div class="w-100 mb4 nested-copy-line-height relative bg-white"><div class="mb3 pa4 gray overflow-hidden bg-white"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/%E6%88%91%E6%83%B3%E5%9C%A8vercel%E4%B8%8A%E7%9C%8B%E5%88%B0%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A02/ class="link black dim">我想在vercel上看到这篇文章2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height"><p>同上哈哈哈！！！</p></div><a href=/posts/%E6%88%91%E6%83%B3%E5%9C%A8vercel%E4%B8%8A%E7%9C%8B%E5%88%B0%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A02/ class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a></div></div></div></section><ul class="pagination pagination-default"><li class="page-item disabled"><a aria-disabled=true aria-label=First class=page-link role=button tabindex=-1><span aria-hidden=true>&#171;&#171;</span></a></li><li class="page-item disabled"><a aria-disabled=true aria-label=Previous class=page-link role=button tabindex=-1><span aria-hidden=true>&#171;</span></a></li><li class="page-item active"><a aria-current=page aria-label="Page 1" class=page-link role=button>1</a></li><li class=page-item><a href=/posts/page/2/ aria-label="Page 2" class=page-link role=button>2</a></li><li class=page-item><a href=/posts/page/2/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/posts/page/2/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href=https://example.org/>&copy; 我的Hugo网站 2026</a><div><div class=ananke-socials></div></div></div></footer></body></html>